<?xml version="1.0"?>
<project name="Grammar Rebuild Script" default="rebuild">
    <dirname property="project" file="${ant.file}" />
    <dirname property="workspace" file="${ant.file}/../" />
    <property name="src" value="${project}/src/main/java" />
    <property name="javacc.home" value="${workspace}/org.semanticdesktop.wikimodel.javacc/lib" />

    <target name="rebuild" depends="clean, build" />

    <target name="clean">
        <delete>
            <fileset dir="${src}" includes="**/javacc/*.java" />
        </delete>
    </target>

    <target name="build">
        <javacc target="${src}/org/wikimodel/wem/common/javacc/CommonWikiScanner.jj"
                javacchome="${javacc.home}"
                unicodeinput="true" />
        <javacc target="${src}/org/wikimodel/wem/creole/javacc/CreoleWikiScanner.jj"
                javacchome="${javacc.home}"
                unicodeinput="true" />
        <javacc target="${src}/org/wikimodel/wem/gwiki/javacc/GWikiScanner.jj"
                javacchome="${javacc.home}"
                unicodeinput="true" />
        <javacc target="${src}/org/wikimodel/wem/jspwiki/javacc/JspWikiScanner.jj"
                javacchome="${javacc.home}"
                unicodeinput="true" />
        <javacc target="${src}/org/wikimodel/wem/mediawiki/javacc/MediawikiScanner.jj"
                javacchome="${javacc.home}"
                unicodeinput="true" />
        <javacc target="${src}/org/wikimodel/wem/xwiki/javacc/XWikiScanner.jj"
                javacchome="${javacc.home}"
                unicodeinput="true" />
    </target>

</project>

